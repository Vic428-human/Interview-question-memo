
> å…¶å¯¦ä¸éœ€è¦è¿½æ±‚é ‚è£

```
function compareManaRecoveryOptions(intValue, spValue, options) {
  // options æ˜¯ä¸€å€‹é™£åˆ—ï¼Œæ¯å€‹å…ƒç´ æ˜¯ { rate: number, price: number }
  const baseRegen = Math.floor(1 + intValue / 6 + spValue / 100);

  const result = options.map(({ rate, price }) => {
    const recoveryMultiplier = 1 + rate / 100;
    const regen = Math.floor(baseRegen * recoveryMultiplier);
    return { rate, price, regen };
  });

  // æ‰¾å‡ºæœ€é«˜å›é­”çš„é¸é …
  const maxRegen = Math.max(...result.map(r => r.regen));

  // è¨ˆç®—æ¯ä»¶è£å‚™ç›¸å°æ–¼æœ€é«˜å›é­”çš„åƒ¹æ ¼æ•ˆç‡
  result.forEach(option => {
    option.manaPerCoin = (option.regen / option.price).toFixed(2);
    option.diffFromMax = maxRegen - option.regen;
  });

  return result;
}

// ğŸ” ç¯„ä¾‹ä½¿ç”¨
const baseINT = 36;
const baseSP = 127;
const gearOptions = [
  { rate: 25, price: 180000 },
  { rate: 29, price: 230000 },
  { rate: 49, price: 520000 },
];

const analysis = compareManaRecoveryOptions(baseINT, baseSP, gearOptions);
console.table(analysis);
```
