

```
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import axios from 'axios'
import { useState } from 'react'

// 假的取得賠率 API
const fetchFakeOdds = async (params) => {
  // 假設 API 路徑為 /api/fake/odds
  const res = await axios.get('/api/fake/odds', { params })
  return res.data
}

// 假的下單 API
const fakePlaceOrder = async (orderData) => {
  // 假設 API 路徑為 /api/fake/place-order
  const res = await axios.post('/api/fake/place-order', orderData)
  return res.data
}

```

useQueryClient 是 React Query 提供的一個 hook，
用來取得目前應用程式中正在運作的 QueryClient 實例。
這個實例讓你可以直接操作 React Query 的快取（cache）和查詢狀態。

常見用途包括：
- 取得、設定、或更新快取資料（例如 getQueryData, setQueryData）
- 讓某個查詢重新抓資料（例如 invalidateQueries, refetchQueries）
- 預先抓取（prefetch）或清除快取
- 在 mutation 成功後，主動更新或重刷相關查詢，讓畫面保持最新狀態

### invalidateQueries

invalidateQueries 的意思是「讓指定的查詢（query）變成過時（stale）」，並且會自動重新向伺服器請求最新資料，讓畫面上的資料保持同步。

用白話來說，就是：
你在前端用 useQuery 抓到的資料，React Query 會先快取下來。
當你用 invalidateQueries 時，React Query 會把這筆快取資料標記為「舊的」。
如果這個查詢正在被畫面使用，React Query 會自動去發 API 重新抓一次最新資料，並更新畫面。
常見用法是在你新增、刪除、或修改資料後，讓相關查詢自動刷新，確保顯示的是最新狀態。

舉例：
你新增一筆訂單後，呼叫

```
queryClient.invalidateQueries({ queryKey: ['orders'] })
React Query 會讓「orders」這個查詢自動重新抓資料，畫面就會看到最新的訂單清單。
```
總結：
invalidateQueries 不是直接改資料，而是通知 React Query「這筆資料要重新抓」，讓你的前端資料保持最新。


